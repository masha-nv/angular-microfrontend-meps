<div class="snapshot-header">
  <em>Snapshot data populated for {{snapshotDate?.value | date : 'MM/dd/yyyy'}} </em>
  <div>
    <input class="date-input" matInput [matDatepicker]="picker" [formControl]="snapshotDate" />
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker  #picker></mat-datepicker>
    <span>Set Snapshot Date</span>
  </div>
  <div>
    <mat-icon>visibility</mat-icon>
    <span>Blank Fields</span>
  </div>
</div>
@if(beneficiaryDetails$ | async; as bene) {
<div class="container">
  <div class="left">
    <h2 class="sub-title">Beneficiary Details</h2>
    <div class="bene-details">
      @for( item of bene | keyvalue ; track item.key) {
      <div class="details-row">
        <span class="label">{{item.key | titlecase}}</span>
        <span class="value">{{item.value | titlecase}}</span>
      </div>
      }
    </div>
  </div>
  <div class="right">
    <div>
      <h2 class="sub-title">Entitlement</h2>
      <table mat-table [dataSource]=" dataSourceEntitlement">
        <!-- Part Column -->
        <ng-container matColumnDef="part">
          <th mat-header-cell *matHeaderCellDef>Part</th>
          <td mat-cell *matCellDef="let element">{{element.part}}</td>
        </ng-container>

        <!-- Sart Date Column -->
        <ng-container matColumnDef="startDate">
          <th mat-header-cell *matHeaderCellDef>Start Date</th>
          <td mat-cell *matCellDef="let element">{{element.startDate}}</td>
        </ng-container>

        <!-- End Date Column -->
        <ng-container matColumnDef="endDate">
          <th mat-header-cell *matHeaderCellDef>End Date</th>
          <td mat-cell *matCellDef="let element">{{element.endDate}}</td>
        </ng-container>

        <!-- Option Column -->
        <ng-container matColumnDef="option">
          <th mat-header-cell *matHeaderCellDef>Option</th>
          <td mat-cell *matCellDef="let element">{{element.option}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedEntitlementColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedEntitlementColumns"
        ></tr>
      </table>
    </div>
    <div>
      <h2 class="sub-title">Eligibility</h2>
      <table mat-table [dataSource]="dataSourceEligibility">
        <!-- Part Column -->
        <ng-container matColumnDef="part">
          <th mat-header-cell *matHeaderCellDef>Part</th>
          <td mat-cell *matCellDef="let element">{{element.part}}</td>
        </ng-container>

        <!-- Sart Date Column -->
        <ng-container matColumnDef="startDate">
          <th mat-header-cell *matHeaderCellDef>Start Date</th>
          <td mat-cell *matCellDef="let element">{{element.startDate}}</td>
        </ng-container>

        <!-- End Date Column -->
        <ng-container matColumnDef="endDate">
          <th mat-header-cell *matHeaderCellDef>End Date</th>
          <td mat-cell *matCellDef="let element">{{element.endDate}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedEligibilityColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedEligibilityColumns"
        ></tr>
      </table>
    </div>
    <div>
      <h2 class="sub-title">Enrollment</h2>
      <table mat-table [dataSource]="dataSourceEnrollment">
        <!-- Part Column -->
        <ng-container matColumnDef="part">
          <th mat-header-cell *matHeaderCellDef>Contract</th>
          <td mat-cell *matCellDef="let element">{{element.contract}}</td>
        </ng-container>

        <!-- Sart Date Column -->
        <ng-container matColumnDef="startDate">
          <th mat-header-cell *matHeaderCellDef>Start Date</th>
          <td mat-cell *matCellDef="let element">{{element.startDate}}</td>
        </ng-container>

        <!-- End Date Column -->
        <ng-container matColumnDef="endDate">
          <th mat-header-cell *matHeaderCellDef>End Date</th>
          <td mat-cell *matCellDef="let element">{{element.endDate}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedEnrollmentColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedEnrollmentColumns"
        ></tr>
      </table>
    </div>
  </div>
</div>
}
